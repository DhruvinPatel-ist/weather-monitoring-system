"use client";

import React from "react";

interface CustomWidget1Props {
  value: number; // Expected 0â€“100
  colors?: string[]; // Optional dynamic color array
}

export function CustomWidget1({ value, colors = [] }: CustomWidget1Props) {
  // Clamp value to [0, 100]
  const safeValue = Math.max(0, Math.min(100, value));
  const rotation = (safeValue / 100) * 240; // Convert to degrees

  // Default fallbacks
  const firstColor = colors[0];
  const secondColor = colors[1];
  const thiredColor = colors[2];

  return (
    <div className="flex justify-center items-center">
      <svg
        width="80"
        height="80"
        viewBox="0 0 137 137"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
      >
        <path
          d="M86.0317 70.4165C86.0317 80.2189 78.0628 88.1458 68.2605 88.1458C58.4583 88.1458 50.4893 80.2189 50.4893 70.4165C50.4893 60.6143 58.4583 52.6448 68.2605 52.6448C78.0627 52.6448 86.0317 60.6143 86.0317 70.4165Z"
          fill="#FB8F0B"
        />
        <path
          d="M86.0206 70.4185C86.0206 80.221 78.0673 88.1452 68.2649 88.1452C62.5128 88.1452 57.3474 85.4158 54.1484 81.1308C57.1126 83.3907 60.8105 84.7113 64.8018 84.7113C74.6043 84.7113 82.5869 76.7579 82.5869 66.9553C82.5869 62.9052 81.2368 59.2072 78.9184 56.2432C83.2327 59.4421 86.0206 64.6075 86.0206 70.4185Z"
          fill="#FB8F0B"
        />
        <path
          d="M68.1582 8.52075V30.2975C61.3787 30.2975 55.01 31.9704 49.4045 34.964L38.0468 16.3568C40.9816 14.7133 44.0338 13.3046 47.2328 12.16C48.1426 11.8372 49.0818 11.5142 50.0209 11.2502C52.3981 10.4871 54.8339 9.90006 57.3286 9.48913C58.2972 9.28385 59.2655 9.13696 60.2341 9.01963C62.8168 8.69684 65.4582 8.52075 68.1582 8.52075Z"
          fill={firstColor}
        />
        <path
          d="M49.4001 34.9648C42.9728 38.3692 37.602 43.4465 33.8455 49.6392L15.1212 38.4866C16.7647 35.7571 18.5843 33.1744 20.6387 30.7678C21.2549 30.0049 21.8713 29.2712 22.5463 28.5667C24.4833 26.4536 26.5671 24.4873 28.7975 22.6677C29.5312 22.0219 30.3236 21.4349 31.1161 20.8481C33.3172 19.2046 35.6357 17.7078 38.0423 16.3577L49.4001 34.9648Z"
          fill={secondColor}
        />
        <path
          d="M33.8502 49.6378C30.1817 55.6836 28.0685 62.8153 28.0685 70.3872H6.2627C6.2627 66.9828 6.55629 63.637 7.08454 60.3793C7.23124 59.4108 7.40732 58.4424 7.61278 57.4738C8.14103 55.0085 8.81599 52.6018 9.63783 50.2246C9.93124 49.2856 10.2834 48.3756 10.6649 47.4658C11.8977 44.3257 13.3943 41.332 15.1259 38.4851L33.8502 49.6378Z"
          fill={secondColor}
        />
        <path
          d="M15.9785 60.2647C15.8612 60.9984 15.2448 61.4973 14.5405 61.4973C14.2285 61.4507 6.59987 60.3093 7.08606 60.3821C7.23277 59.4135 7.40885 58.4451 7.61431 57.4766L14.7459 58.5918C15.5678 58.7092 16.096 59.4723 15.9785 60.2647Z"
          fill="#474646"
        />
        <path
          d="M17.3511 50.4905C17.1697 51.3614 16.2782 51.7778 15.5901 51.6058L9.77915 50.2851C9.7204 50.2851 9.66182 50.2557 9.63245 50.2263C9.92586 49.2873 10.278 48.3773 10.6596 47.4675L16.2358 48.7297C17.0283 48.935 17.5272 49.6981 17.3511 50.4905Z"
          fill="#474646"
        />
        <path
          d="M26.7754 34.5255C26.2383 35.1164 25.2772 35.1696 24.6918 34.5843L20.6417 30.7688C21.2579 30.0059 21.8743 29.2721 22.5493 28.5676H22.5786L26.7169 32.4711C27.3039 33.0287 27.3331 33.9385 26.7754 34.5255Z"
          fill="#474646"
        />
        <path
          d="M33.9607 27.1872C33.315 27.6897 32.3684 27.5186 31.9357 26.8937L28.7954 22.6675C29.5291 22.0217 30.3216 21.4347 31.114 20.8479L34.2835 25.1327C34.7532 25.7785 34.6359 26.7176 33.9607 27.1872Z"
          fill="#474646"
        />
        <path
          d="M50.4291 18.8539C49.7169 19.0323 48.8548 18.5955 48.6389 17.768L47.2303 12.1625C48.1401 11.8397 49.0792 11.5167 50.0184 11.2527C50.0478 11.2821 50.0478 11.2821 50.0478 11.3114L51.4858 17.0637C51.6913 17.8562 51.2216 18.6486 50.4291 18.8539Z"
          fill="#474646"
        />
        <path
          d="M60.9972 14.833C61.0851 15.6254 60.5275 16.3592 59.7058 16.4765H59.5297C58.796 16.4765 58.1797 15.9482 58.0623 15.2145L57.3286 9.49147C58.2972 9.28619 59.2655 9.1393 60.2341 9.02197L60.9972 14.833Z"
          fill="#474646"
        />
        <path
          d="M98.2935 16.3568L86.9065 34.964C81.3303 31.9704 74.9323 30.2975 68.1529 30.2975V8.52075C70.8529 8.52075 73.4943 8.69684 76.077 9.01963C77.0453 9.13696 78.0139 9.28385 78.9824 9.48913C81.477 9.90006 83.9129 10.4871 86.2901 11.2502C87.2293 11.5142 88.1685 11.8372 89.0783 12.16C92.2771 13.3046 95.3587 14.7133 98.2935 16.3568Z"
          fill={firstColor}
        />
        <path
          d="M121.216 38.4866L102.463 49.6392C98.7355 43.4465 93.3355 38.3692 86.9082 34.9648L98.2952 16.3577C100.702 17.7078 102.991 19.1752 105.192 20.8481C105.985 21.4057 106.748 22.0219 107.511 22.6677C109.741 24.4873 111.825 26.4536 113.762 28.5667C114.437 29.2712 115.083 30.0049 115.699 30.7678C117.724 33.1744 119.573 35.7571 121.216 38.4866Z"
          fill={firstColor}
        />
        <path
          d="M130.08 70.3872H108.275C108.275 62.8153 106.162 55.6836 102.464 49.6378L121.217 38.4851C122.919 41.332 124.416 44.3257 125.678 47.4658C126.03 48.3464 126.383 49.2856 126.705 50.1954C127.527 52.5726 128.202 55.0085 128.731 57.4738C128.936 58.4424 129.112 59.4108 129.259 60.3793C129.787 63.637 130.08 66.9828 130.08 70.3872Z"
          fill={thiredColor}
        />
        <path
          d="M129.259 60.3821H129.23L122.01 61.4973H121.805C121.071 61.4973 120.455 60.9984 120.337 60.2647C120.22 59.4723 120.777 58.7092 121.57 58.5918L128.731 57.4766C128.936 58.4451 129.112 59.4135 129.259 60.3821Z"
          fill="#474646"
        />
        <path
          d="M126.704 50.1974C126.646 50.2559 126.587 50.2559 126.528 50.2853L120.717 51.606C120.026 51.7791 119.176 51.3691 118.956 50.4908C118.78 49.6983 119.279 48.9352 120.072 48.7299L125.677 47.4678C126.029 48.3484 126.381 49.2876 126.704 50.1974Z"
          fill="#474646"
        />
        <path
          d="M115.7 30.7688L111.621 34.5843C111.079 35.1258 110.141 35.1573 109.566 34.5255C109.009 33.9385 109.038 33.0287 109.625 32.4711L113.734 28.5676H113.763C114.438 29.2721 115.084 30.0059 115.7 30.7688Z"
          fill="#474646"
        />
        <path
          d="M107.509 22.6675L104.398 26.8937C103.911 27.526 102.984 27.6857 102.343 27.1872C101.698 26.7176 101.551 25.7785 102.02 25.1327L105.19 20.8479C105.983 21.4055 106.745 22.0217 107.509 22.6675Z"
          fill="#474646"
        />
        <path
          d="M89.0787 12.1625L87.6699 17.768C87.4441 18.6336 86.5723 19.0271 85.8797 18.8539C85.0872 18.6486 84.6177 17.8562 84.8232 17.0637L86.2612 11.3114C86.2612 11.2821 86.2612 11.2821 86.2906 11.2527C87.2298 11.5167 88.1689 11.8397 89.0787 12.1625Z"
          fill="#474646"
        />
        <path
          d="M78.9801 9.49147L78.2464 15.2145C78.1583 15.9482 77.5127 16.4765 76.779 16.4765H76.6029C75.8104 16.3592 75.2234 15.6254 75.3409 14.833L76.0746 9.02197C77.043 9.1393 78.0116 9.28619 78.9801 9.49147Z"
          fill="#474646"
        />
        <path
          d="M130.069 70.4172C130.069 73.8218 129.805 77.1676 129.277 80.4253H129.247C129.101 81.423 128.924 82.3622 128.719 83.3308C128.191 85.7959 127.516 88.2319 126.694 90.5798C126.371 91.4896 126.048 92.4288 125.667 93.3386C124.803 95.54 123.809 97.6694 122.695 99.7266C121.913 101.171 120.048 101.63 118.637 100.789L104.934 92.6275C103.632 91.8517 103.089 90.1892 103.787 88.8432C106.647 83.326 108.263 77.0401 108.263 70.4172H130.069Z"
          fill={thiredColor}
        />
        <path
          d="M129.246 80.4249C129.099 81.4226 128.923 82.3618 128.718 83.3303L121.586 82.2151C120.764 82.0978 120.236 81.3347 120.353 80.5422C120.471 79.7497 121.205 79.1921 122.026 79.3096L129.246 80.4249Z"
          fill="#474646"
        />
        <path
          d="M126.694 90.5816C126.371 91.4914 126.049 92.4306 125.667 93.3404L120.091 92.0491C119.299 91.873 118.8 91.0807 118.976 90.3176C119.152 89.5251 119.944 89.0263 120.737 89.2023L126.548 90.5231C126.606 90.5231 126.665 90.5524 126.694 90.5816Z"
          fill="#474646"
        />
        <path
          d="M31.3978 92.627L17.6949 100.789C16.284 101.629 14.4185 101.17 13.6366 99.7262C12.523 97.669 11.5292 95.5396 10.6649 93.3381C10.2834 92.4283 9.93124 91.4891 9.63783 90.5793C8.81599 88.2315 8.14103 85.7955 7.61278 83.3303C7.40732 82.3617 7.23124 81.4225 7.08454 80.4248C6.55629 77.1671 6.2627 73.8213 6.2627 70.4167H28.0685C28.0685 77.0396 29.6851 83.3255 32.545 88.8427C33.2427 90.1887 32.7003 91.8512 31.3978 92.627Z"
          fill={secondColor}
        />
        <path
          d="M15.9705 80.5422C16.088 81.3347 15.5597 82.0978 14.7379 82.2151L7.60625 83.3303C7.40079 82.3618 7.22471 81.4226 7.078 80.4249L14.2976 79.3096C15.1194 79.1921 15.8531 79.7497 15.9705 80.5422Z"
          fill="#474646"
        />
        <path
          d="M16.2358 92.0483L10.6596 93.3397C10.278 92.4299 9.92586 91.4907 9.63245 90.5809C9.66182 90.5517 9.7204 90.5223 9.77915 90.5223L15.5901 89.2016C16.3825 89.0255 17.175 89.5244 17.3511 90.3169C17.5272 91.08 17.0283 91.8723 16.2358 92.0483Z"
          fill="#474646"
        />
        <g transform={`rotate(${rotation}, 68.2605, 70.4165)`}>
          <path
            d="M38.1527 87.0529C45.4374 80.5578 62.5364 65.4393 65.2236 63.8681C68.6275 61.8778 73.0278 63.031 75.0106 66.4633C77.0008 69.8672 75.8551 74.2392 72.4512 76.2295C69.7924 77.8082 48.2162 85.3515 39.0118 88.5219C38.1038 88.8604 37.4409 87.6854 38.1527 87.0529Z"
            fill="#474646"
          />
          <path
            d="M71.7104 70.4013C71.7104 72.3057 70.1622 73.8458 68.2577 73.8458C66.3533 73.8458 64.8051 72.3057 64.8051 70.4013C64.8051 68.4969 66.3533 66.9485 68.2577 66.9485C70.1622 66.9485 71.7104 68.4969 71.7104 70.4013Z"
            fill="#2D2C2C"
          />
          <path
            d="M71.14 68.542C70.6118 68.1896 69.9662 67.9843 69.2912 67.9843C67.3835 67.9843 65.8573 69.5397 65.8573 71.4475C65.8573 72.1224 66.0628 72.7682 66.415 73.2965C65.4466 72.7095 64.8008 71.6236 64.8008 70.3908C64.8008 68.4832 66.3564 66.957 68.2639 66.957C69.4965 66.957 70.5532 67.6028 71.14 68.542Z"
            fill="#1B1B1B"
          />
        </g>
        <g opacity="0.3">
          <path
            d="M66.1457 59.1147C65.4406 59.1147 64.8172 58.6045 64.6997 57.8865C64.5679 57.0869 65.1081 56.3317 65.9078 56.1998C66.673 56.0737 67.4569 56.0078 68.2565 56.0078C69.0676 56.0078 69.7239 56.6641 69.7239 57.4753C69.7239 58.2864 69.0676 58.9427 68.2565 58.9427C67.6202 58.9427 66.994 58.9943 66.3864 59.0946C66.3047 59.1089 66.2245 59.1147 66.1457 59.1147Z"
            fill="white"
          />
          <path
            d="M55.3254 71.8781C54.5144 71.8781 53.858 71.2218 53.858 70.4107C53.858 65.2603 56.641 60.4682 61.122 57.903C61.8285 57.4989 62.7242 57.7454 63.1254 58.4476C63.5281 59.1512 63.283 60.0483 62.5809 60.451C59.0112 62.4931 56.7929 66.3107 56.7929 70.4107C56.7929 71.2218 56.1365 71.8781 55.3254 71.8781Z"
            fill="white"
          />
        </g>
        <g opacity="0.5">
          <path
            d="M54.1456 127.802H30.7372C29.9261 127.802 29.2698 127.145 29.2698 126.334C29.2698 125.523 29.9261 124.867 30.7372 124.867H54.1456C54.9567 124.867 55.6131 125.523 55.6131 126.334C55.6131 127.145 54.9567 127.802 54.1456 127.802Z"
            fill="white"
          />
        </g>
      </svg>
    </div>
  );
}
